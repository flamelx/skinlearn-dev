
useCurrentCartPose : false
useNullspacePose   : true
useFTinput         : true
forceTorqueOn      : true

# Only one can be true
useARMAmodel       : false
useCTARMAmodel     : false
useFIRmodel        : false
useMRACmodel       : true
useIRLmodel        : false
useMSDmodel        : false
useDirectmodel     : false

outerLoop_time     : 0.05

# Is the reference trajectory x_r or q_r set externally or estimated
# If externalRefTraj is false the human intent x_i is used
# i.e. an admittance model is used to generate x_i from f_h the force from the FT sensor
externalRefTraj    : false

# Human intent estimation
intentEst_time     : 0.05
intentEst_delT     : 0.1 # Propagation time
intentEst_M        : 1.0 # M_i the mass of the intent admittance model

# The params of the RLS estimator
rls_lambda         : 0.98
rls_sigma          : 0.001

# IRL
numIrlSamples      : 200
numIrlLsIter       : 20
numCartDof         : 1
irlOneshot         : true

# Params for the MRAC outer-loop controller
mrac_gamma_1       : 0.1
mrac_gamma_2       : 2.0
mrac_gamma_3       : 2.5
mrac_gamma_4       : 5
mrac_gamma_5       : 5

fixedFilterWeights : false

# ARMA parameters
filtW0             : -1.8775  #-1.8136 #-2.3646
filtW1             :  1.2729  # 1.3171 # 1.9237
filtW2             : -0.0578  #-0.4726 #-0.3255
filtW3             : -0.3269  #-0.0082 #-0.1816
filtW4             :  0.0018  # 0.0032 # 0.0049
filtW5             :  0.0001  #-0.0010 #-0.0018
filtW6             : -0.0013  #-0.0007 #-0.0018
filtW7             :  0.0002  #-0.0009 # 0.0014

# This makes zero any force less than below
forceCutOffX       : 0.0
forceCutOffY       : 0.0
forceCutOffZ       : 0.0

# Params for the MSD outer-loop controller
m_M                 : 200.0
m_S                 : 50.0
m_D                 : 10.0

# Params for M(s) of the RLS models
task_mA             : 1.5
task_mB             : 1.5

cartIniX     :  0.7
cartIniY     :  0.0
cartIniZ     :  0.1
cartIniRoll  :  0.0
cartIniPitch :  0.0
cartIniYaw   :  0.0

cartDesX     :  0.7
cartDesY     : -0.3
cartDesZ     :  0.1
cartDesRoll  :  0.0
cartDesPitch :  0.0
cartDesYaw   :  0.0

lCartIniX     :  0.8
lCartIniY     :  0.05
lCartIniZ     :  0.0
lCartIniRoll  :  1.57079633
lCartIniPitch :  0.0
lCartIniYaw   : -1.57079633

circleRate          : 1
circleLlim          : 0.5
circleUlim          : 1.5

nnNum_Inputs        : 35 
nnNum_Outputs       : 7
nnNum_Hidden        : 10
nnNum_Error         : 7  
nnNum_Joints        : 7  

# Filtered error
# r = (qd_m - qd) + lambda*(q_m - q);
# Kv*r

nn_Kv               : 5
nn_lambda           : 20
nn_kappa            : 0.3
nn_Kz               : 0.001 
nn_Zb               : 100 
nn_feedForwardForce : 0   
nn_nnF              : 100 
nn_nnG              : 200
nn_ON               : 1

cartPos_Kp_x : 60.0
cartPos_Kp_y : 60.0
cartPos_Kp_z : 60.0
cartPos_Kd_x : 10
cartPos_Kd_y : 10
cartPos_Kd_z : 10

cartRot_Kp_x : 9.0
cartRot_Kp_y : 9.0
cartRot_Kp_z : 9.0
cartRot_Kd_x : 3
cartRot_Kd_y : 3
cartRot_Kd_z : 3

# Nominal angles for the arm joints
                # Left arm              # Right arm
nom_joint_0  :  0.0 # 0.067             # -0.48577  
nom_joint_1  :  0.0 # 0.036             # -0.0190721
nom_joint_2  :  1.5828     # 0.012      # -1.51115  
nom_joint_3  : -0.5 #-0.097              # -1.70928  
nom_joint_4  : 0.0 #-0.983              #  1.54561  
nom_joint_5  : 0.0 #-0.0947             #  0.046854 
nom_joint_6  : 0.0 # 0.1114             # -0.0436174

pr2_cartesianController:
  type: PR2CartesianControllerClass
  root_name: torso_lift_link
  tip_name: r_gripper_tool_frame

pr2_cartneuroController:
  type: PR2CartneuroControllerClass
  root_name: torso_lift_link
  tip_name: r_gripper_tool_frame

pr2_cartresnnController:
  type: PR2CartresnnControllerClass
  root_name: torso_lift_link
  tip_name: r_gripper_tool_frame

pr2_explforceController:
  type: PR2ExplforceControllerClass
  root_name: torso_lift_link
  tip_name: r_gripper_tool_frame

pr2_impedanceController:
  type: PR2ImpedanceControllerClass
  root_name: torso_lift_link
  tip_name: r_gripper_tool_frame 

pr2_neuroadptController:
  type: PR2NeuroadptControllerClass
  root_name: torso_lift_link
  tip_name: l_gripper_tool_frame

pr2_pidController:
  type: PR2PidControllerClass
  root_name: torso_lift_link
  tip_name: l_gripper_tool_frame

saturation:
  l_shoulder_pan_joint: 11.88
  l_shoulder_lift_joint: 11.64
  l_upper_arm_roll_joint: 6.143
  l_elbow_flex_joint: 6.804
  l_forearm_roll_joint: 8.376
  l_wrist_flex_joint: 5.568
  l_wrist_roll_joint: 5.568
  r_shoulder_pan_joint: 11.88
  r_shoulder_lift_joint: 11.64
  r_upper_arm_roll_joint: 6.143
  r_elbow_flex_joint: 6.804
  r_forearm_roll_joint: 8.376
  r_wrist_flex_joint: 5.568
  r_wrist_roll_joint: 5.568

